//Lighting functions
float diffuse(vec3 normal, vec3 light)
{
  return max(dot(normal, light), 0.0);
}

vec3 specular(vec3 dir, vec3 normal, vec3 light)
{
  vec3 reflectDir = reflect(light, normal);  
  float spec = pow(max(dot(dir, reflectDir), 0.0), 32);
  return SPECULAR * spec * sunLightColor;  
}

vec4 calculateLight(vec3 normal, vec3 dir)
{
  return vec4(diffuse(normal, sunLight) + specular(dir, normal, sunLight) + AMBIENT, 1.0);
}
